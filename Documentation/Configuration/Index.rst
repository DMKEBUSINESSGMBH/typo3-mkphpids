.. ==================================================
.. FOR YOUR INFORMATION
.. --------------------------------------------------
.. -*- coding: utf-8 -*- with BOM.

.. include:: ../Includes.txt


.. _configuration:

Configuration
=============

Use the Constant Editor template tool to set these properties. If you are not
using the Constant editor to configure the extension, you should analyze
carefully the use of these constants in the default setup file.

+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Property                    | Data type                                      | Description                                                              | Default                                                                                                                |
+=============================+================================================+==========================================================================+========================================================================================================================+
| General.debug_mode          | boolean                                        | Turn on or off debug mode.                                               | 0                                                                                                                      |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Impact.print_to_screen      | int                                            | Threshold for showing an impact                                          | 0                                                                                                                      |
|                             |                                                | on the screen                                                            |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Impact.file_threshold       | int                                            | Threshold for                                                            | 0                                                                                                                      |
|                             |                                                | reporting an impact to the                                               |                                                                                                                        |
|                             |                                                | logfile defined in Logging.path                                          |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Impact.db_threshold         | int                                            | Threshold for                                                            | 15                                                                                                                     |
|                             |                                                | reporting an impact to the                                               |                                                                                                                        |
|                             |                                                | database shown in the PHPIDS                                             |                                                                                                                        |
|                             |                                                | backend module                                                           |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Impact.email_threshold      | int                                            | Threshold for                                                            | 20                                                                                                                     |
|                             |                                                | reporting an impact by e-mail                                            |                                                                                                                        |
|                             |                                                | specified in Logging.email                                               |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Impact.die_threshold        | int                                            | Threshold for                                                            | 65                                                                                                                     |
|                             |                                                | locking the homepage to the                                              |                                                                                                                        |
|                             |                                                | attacker with a                                                          |                                                                                                                        |
|                             |                                                | session_destroy() and PHP die()                                          |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Impact.die_redirect_pid     | string                                         | pid or alias to redirect to                                              |                                                                                                                        |
|                             |                                                | after die                                                                |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.filter_type         | string                                         | Choose your filter type.                                                 | xml                                                                                                                    |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.use_base_path       | boolean                                        | Choose if base path is used.                                             | 1                                                                                                                      |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.filter_path         | string                                         | Choose your filter file.                                                 | default_filter.xml                                                                                                     |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.tmp_path            | string                                         | Choose your temp path.                                                   | tmp                                                                                                                    |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.scan_keys           | boolean                                        | Use scan key                                                             | 0                                                                                                                      |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.HTML_Purifier_Path  | string                                         | In case you want to use a                                                | IDS/vendors/htmlpurifier/HTMLPurifier.auto.php                                                                         |
|                             |                                                | different HTMLPurifier source,                                           |                                                                                                                        |
|                             |                                                | specify it here. By default,                                             |                                                                                                                        |
|                             |                                                | those files are used that are                                            |                                                                                                                        |
|                             |                                                | being shipped with PHPIDS                                                |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.HTML_Purifier_Cache | string                                         | In case you want to use a                                                | IDS/vendors/htmlpurifier/HTMLPurifier/DefinitionCache/Serializer                                                       |
|                             |                                                | different HTMLPurifier cache,                                            |                                                                                                                        |
|                             |                                                | specify it here. By default,                                             |                                                                                                                        |
|                             |                                                | those files are used that are                                            |                                                                                                                        |
|                             |                                                | being shipped with PHPIDS                                                |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.html                | string                                         | Define which fields contain html                                         | __wysiwyg                                                                                                              |
|                             |                                                | and need preparation before                                              |                                                                                                                        |
|                             |                                                | hitting the PHPIDS rules                                                 |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.json                | string                                         | Define which fields contain JSON                                         | POST.__jsondata                                                                                                        |
|                             |                                                | data and should be treated as                                            |                                                                                                                        |
|                             |                                                | such for fewer false positives                                           |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.exceptions_0        | string                                         | Define which fields shouldn't                                            | GET.EXAMPLE1                                                                                                           |
|                             |                                                | be monitored                                                             |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.exceptions_1        | string                                         | Define which fields shouldn't                                            | POST.EXAMPLE2                                                                                                          |
|                             |                                                | be monitored                                                             |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.exceptions_2        | string                                         | Define which fields shouldn't                                            | COOKIE.__utmz,COOKIE.__utmc,COOKIE.__gads,COOKIE._pk_ref_1_95c0,COOKIE._pk_ref_1_bdaa,/POST.*.__hmac/i,/GET.*.__hmac/i |
|                             |                                                | be monitored                                                             |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| General.min_php_version     | string                                         | PHPIDS should run with PHP 5.1.2                                         | 5.1.6                                                                                                                  |
|                             |                                                | but this is untested - set this                                          |                                                                                                                        |
|                             |                                                | value to force compatibilty with                                         |                                                                                                                        |
|                             |                                                | minor versions                                                           |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Logging.email               | string                                         | Address for reportings by E-Mail:                                        |                                                                                                                        |
|                             |                                                | If not specified the                                                     |                                                                                                                        |
|                             |                                                | $TYPO3_CONF_VARS['BE']                                                   |                                                                                                                        |
|                             |                                                | ['warning_email_addr']                                                   |                                                                                                                        |
|                             |                                                | will be used                                                             |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Logging.path                | string                                         | If you use the PHPIDS logger you can define specific configuration here  | tmp/phpids_log.txt                                                                                                     |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Logging.envelope            | string                                         | Email logging: Note that enabling safemode you can prevent spam attempts |                                                                                                                        |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Logging.safemode            | boolean                                        | Safemode for E-Mail logging.                                             | 1                                                                                                                      |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Logging.urlencode           | boolean                                        | urlencode for Email logging                                              | 1                                                                                                                      |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Logging.allowed_rate        | int                                            | Allowed rate for Email logging                                           | 15                                                                                                                     |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Caching.caching             | options[session,file,database,memcached,none]; | Caching method                                                           | file                                                                                                                   |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Caching.expiration_time     | int                                            | Caching expiration time                                                  | 600                                                                                                                    |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
| Caching.path                | string                                         | File caching path                                                        | tmp/default_filter.cache                                                                                               |
+-----------------------------+------------------------------------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+

Please refer also to the documentation of PHPIDS found here http://phpids.org/docs/.